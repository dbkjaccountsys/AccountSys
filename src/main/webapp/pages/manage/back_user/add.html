<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>新增后台用户</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />
    <!-- Bootstrap 3.3.6 -->
    <link rel="stylesheet" href="${ctx!}/content/ui/global/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link href="${ctx!}/content/ui/global/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <!-- Theme style -->
    <link rel="stylesheet" href="${ctx!}/content/adminlte/dist/css/AdminLTE.css">
    <link rel="stylesheet" href="${ctx!}/content/adminlte/dist/css/skins/_all-skins.min.css">
    <link href="${ctx!}/content/min/css/supershopui.common.min.css" rel="stylesheet"/>
    <style type="text/css">
    	
    </style>
    <!--全局通用框架样式 end-->
</head>
<body data-context="${ctx!}">
	<section class="content-header">
        <h1>
                      新增后台用户
        </h1>
        <ol class="breadcrumb">
            <li><i class="fa fa-home"></i> 用户管理</li>
            <li><a href="${ctx!}/manage/frontUser">后台用户管理</a></li>
            <li class="active">新增后台用户</li>
        </ol>
    </section>
	<!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <hr style="margin-top:0;">
                <div class="box-body">
                	<form class="form-horizontal" method="post" action="${ctx!}/manage/backUser/save" id="newUserForm">
                		<div class="box-body">
                			<div class="form-group">
                				<label class="col-md-2 col-sm-2 col-md-offset-2 col-sm-offset-2 control-label">用户名 <i class="text-red">*</i>：</label>
                				<div class="col-md-4 col-sm-4">
                					<input type="text" class="form-control" name="b.username" value="${(b.username)!}">
                					<#if usernameMsg??><em class="error help-block" style="color:#a94442;">${usernameMsg}</em></#if>
                				</div>
                			</div>
                			<div class="form-group">
                				<label class="col-md-2 col-sm-2 col-md-offset-2 col-sm-offset-2 control-label">密码 <i class="text-red">*</i>：</label>
                				<div class="col-md-4 col-sm-4">
                					<input type="password" class="form-control" id="password" name="b.password" value="${(b.password)!}">
			                		<#if passwordMsg??><em class="error help-block" style="color:#a94442;">${passwordMsg}</em></#if>
                				</div>
                			</div>
                			<div class="form-group">
                				<label class="col-md-2 col-sm-2 col-md-offset-2 col-sm-offset-2 control-label">确认密码 <i class="text-red">*</i>：</label>
                				<div class="col-md-4 col-sm-4">
                					<input type="password" class="form-control" name="b.confirmPassword" value="${(b.confirmPassword)!}">
			                		<#if confirmPassword??><em class="error help-block" style="color:#a94442;">${confirmPassword}</em></#if>
                				</div>
                			</div>
                			<div class="form-group">
                				<label class="col-md-2 col-sm-2 col-md-offset-2 col-sm-offset-2 control-label">姓名：</label>
                				<div class="col-md-4 col-sm-4">
                					<input type="text" class="form-control" name="b.name" value="${(b.name)!}">
                					<#if nameMsg??><em class="error help-block" style="color:#a94442;">${nameMsg}</em></#if>
                				</div>
                			</div>
                			<div class="form-group">
                				<label class="col-md-2 col-sm-2 col-md-offset-2 col-sm-offset-2 control-label">手机号码 <i class="text-red">*</i>：</label>
                				<div class="col-md-4 col-sm-4">
                					<input type="text" class="form-control" name="b.phone" value="${(b.phone)!}">
                					<#if phoneMsg??><em class="error help-block" style="color:#a94442;">${phoneMsg}</em></#if>
                				</div>
                			</div>
                			<div class="form-group">
                				<label class="col-md-2 col-sm-2 col-md-offset-2 col-sm-offset-2 control-label">邮箱 <i class="text-red">*</i>：</label>
                				<div class="col-md-4 col-sm-4">
                					<input type="email" class="form-control" name="b.email" value="${(b.email)!}">
                					<#if emailMsg??><em class="error help-block" style="color:#a94442;">${emailMsg}</em></#if>
                				</div>
                			</div>
                			<div class="form-group">
                				<label class="col-md-2 col-sm-2 col-md-offset-2 col-sm-offset-2 control-label">用户角色 <i class="text-red">*</i>：</label>
                				<div class="col-md-4 col-sm-4">
                					<select class="form-control" name="b.roleId">
                						<option disabled="disabled">--请选择--</option>
                						<#list rlist as item>
                							<option value="${item.id}" <#if (b.roleId)??&&b.roleId==item.id>selected="selected"</#if>>${item.remark}</option>
                						</#list>
                					</select>
                					<#if roleIdMsg??><em class="error help-block" style="color:#a94442;">${roleIdMsg}</em></#if>
                				</div>
                			</div>
                			<div class="form-group">
	                        	<div class="col-sm-offset-4 col-md-offset-4 col-sm-4 col-md-4">
	                        		<button class="btn btn-primary" type="submit">提交</button>&nbsp;&nbsp;&nbsp;&nbsp;
	                        		<a class="btn btn-default" href="${ctx!}/manage/backUser">返回</a>
	                        	</div>
	                        </div>
                		</div>
                	</form>
                </div>
            </div>
        </div>
    </section>
<script src="${ctx!}/content/ui/global/jQuery/jquery.min.js"></script>
<!-- Bootstrap 3.3.6 -->

<script src="${ctx!}/content/ui/global/bootstrap/js/bootstrap.min.js"></script>
<script src="${ctx!}/content/min/js/supershopui.common.js"></script>
<script src="${ctx!}/jquery-validation-1.16.0/jquery.validate.min.js"></script>
<script src="${ctx!}/jquery-validation-1.16.0/localization/messages_zh.min.js"></script>
<script src="${ctx!}/js/common.js"></script>
<script>
	$(function(){
		$("#newUserForm").validate({
			debug:false,
			rules:{
				"b.username":{
					required:true,
					illegalChar:true,
					remote:{
						url:"${ctx!}/manage/backUser/existUsername",
						type:"post",
						dataType:"json"
					}
				},
				"b.password":{
					required:true,
					password:true
				},
				"b.confirmPassword":{
					required:true,
					equalTo:"#password"
				},
				"b.name":{
					illegalChar:true
				},
				"b.phone":{
					required:true,
					mobilePhone:true
				},
				"b.email":{
					required:true,
					email:true
				},
				"b.roleId":{
					required:true
				}
			},
			messages:{
				"b.username":{
					required:"请输入用户名",
					remote:"该用户名已被注册"
				},
				"b.password":{
					required:"请输入密码"
				},
				"b.confirmPassword":{
					required:"请输入确认密码",
					equalTo:"两次密码输入不一致"
				},
				"b.name":{
					required:"请输入公司名称"
				},
				"b.phone":{
					required:"请输入手机号码"
				},
				"b.email":{
					required:"请输入email"
				},
				"b.roleId":{
					required:"请选择账号角色"
				}
			}
		});
	});
</script>
</body>
</html>